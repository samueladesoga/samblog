+++
date = "2009-09-04 14:45:00"
title = "Selenium Remote cant start firefox session due to lock on file"
draft = "false"
categories = ["Technical"]
tags = ["Firefox", "selenium", "Web Application"]
author = "samueladesoga"
+++

&gt;I am sure you have on this page, because you have run into problem with selenium not been able to run due to a lock on some profile files. Yes, you know what the error is. I really found useful two blogs <a href="http://www.lostechies.com/blogs/joshua_lockwood/archive/2008/11/13/selenium-with-firefox-3.aspx">here</a> and <a href="http://notetodogself.blogspot.com/2008/10/use-selenium-rc-in-firefox-3.html">here.</a> However, inas much as i don not want to repeat what has been saidin the blogs i would paste and quote what i found useful and explain a little bit more.<br /><br /><p><i></i></p><blockquote><p><i>Preparing Firefox profile...</i></p> <p>The source of the problem is in the *.rdf files inside the selenium server jar.  The Selenium guys have  hardcoded a version ceiling for Firefox at version 2.0.0.* (in my case it was 3.5.*). The fix is really simple.</p> <p><b>Step 1: Extract the files needing change (from the directory where you have the jar). - </b><br /></p> <pre class="twilight">jar xf selenium-server.jar customProfileDirCUSTFFCHROME/<br />      extensions/readystate@openqa.org/install.rdf<br />jar xf selenium-server.jar customProfileDirCUSTFFCHROME/<br />      extensions/{538F0036-F358-4f84-A764-89FB437166B4}/install.rdf<br />jar xf selenium-server.jar customProfileDirCUSTFFCHROME/<br />      extensions/<span class="Constant">\{</span>503A0CD4-EDC8-489b-853B-19E0BAA8F0A4<span class="Constant">\}</span>/install.rdf<br />jar xf selenium-server.jar customProfileDirCUSTFF/extensions/<br />      readystate<span class="Constant">\@</span>openqa.org/install.rdf<br />jar xf selenium-server.jar customProfileDirCUSTFF/extensions/<br /><span class="Constant">       \{</span>538F0036-F358-4f84-A764-89FB437166B4<span class="Constant">\}</span>/install.rdf<br />
```
<p><b>Step 2: Change the max version in the rdf (Resource Description Framework) files.</b></p> <p>The line of interest looks like this: <em>2.0.0.*</em></p> <p><i>* you can change this to 4.*, should buy some time.</i></p> <p><b>Step 3: Update the jar with your changes.</b></p> <pre class="twilight">jar uf selenium-server.jar customProfileDirCUSTFFCHROME/<br />      extensions/readystate@openqa.org/install.rdf<br />jar uf selenium-server.jar customProfileDirCUSTFFCHROME/<br />      extensions/{538F0036-F358-4f84-A764-89FB437166B4}/install.rdf<br />jar uf selenium-server.jar customProfileDirCUSTFFCHROME/<br />     extensions/<span class="Constant">\{</span>503A0CD4-EDC8-489b-853B-19E0BAA8F0A4<span class="Constant">\}</span>/install.rdf<br />jar uf selenium-server.jar customProfileDirCUSTFF/<br />     extensions/readystate<span class="Constant">\@</span>openqa.org/install.rdf<br />jar uf selenium-server.jar customProfileDirCUSTFF/<br />     extensions/<span class="Constant">\{</span>538F0036-F358-4f84-A764-89FB437166B4<span class="Constant">\}</span>/install.rdf<br />
```
<p>That's it, once that's changed you should be good to go for testing against Firefox 3!</p></blockquote><p></p>So that was a summary of what i found, but my case was a bit different as the version of firefox that was hardcoded  in the selenium-server 1.0.1 was 3.5.* and my version of firefox was 3.5.2, so naturally i expected firefox to work for me. But as it did not work,  as a trail and error, i changed the hardcoded version to 4.5.*. and voila it worked for me.<br /><br />Also i did not use the jar uf command, what i did was to temporarily change the extension of the selenium server jar file to a .zip file and then i opened the zipped file created with winzip.<br /><br />I then extracted the 5files which i need to amended to my desktop, amended the file with a text utility and then drop the files back into the zippped selenium server file. Lastly i changed the extensions back to .jar.<br /><br />And it worked. i hope this works for someone as well

